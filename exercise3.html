<!-- Raisa Meneses Exercise 3 -->
<html>

<head>
    <title>Chapter 10</title>
    <script src="http://code.jquery.com/jquery-3.1.0.min.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Merriweather' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="css/styles.css">


</head>

<body class="tiled">
    <header>
        <h1>Art Filters</h1>
    </header>
    <main>
        <div id="sliderBox">
            <form>
                <label>Opacity: </label>
                <p>
                    <input type="range" id="sliderOpacity" min="0" max="100" value="100" class="sliders" />
                    <span id="numOpacity">100</span>%</p>
                <p>
                    <label>Saturation: </label>
                    <input type="range" id="sliderSaturation" min="1" max="300" value="100" class="sliders" />
                    <span id="numSaturation">100</span>%</p>
                <p>
                    <label>Brightness: </label>
                    <input type="range" id="sliderBrightness" min="0" max="300" value="100" class="sliders" />
                    <span id="numBrightness">100</span>%</p>
                <p>
                    <label>Hue Rotate: </label>
                    <input type="range" id="sliderHue" min="0" max="360" value="0" class="sliders" />
                    <span id="numHue">0</span>deg</p>
                <p>
                    <label>Grayscale: </label>
                    <input type="range" id="sliderGray" min="0" max="100" value="0" class="sliders" />
                    <span id="numGray">0</span>%</p>
                <p>
                    <label>Blur: </label>
                    <input type="range" id="sliderBlur" min="0" max="10" value="0" class="sliders" />
                    <span id="numBlur">0</span>px</p>
                <p>
                    <button id="resetFilters" onclick=" return false">Reset</button>
                </p>
            </form>
        </div>
        <figure id="imgManipulated">
            <img src="images/medium/painting1.jpg">
            <figcaption>
                <em>Still Life with Flowers in a Glass Vase</em>
                <br> Jan Davidsz. de Heem, 1650 - 1683
            </figcaption>
        </figure>
        <div id="thumbBox">
            <div>
                <img src="images/small/painting1.jpg" alt="Still Life with Flowers in a Glass Vase" title="Jan Davidsz. de Heem, 1650 - 1683"
                />
            </div>
            <div>
                <img src="images/small/painting2.jpg" alt="Portrait of Alida Christina Assink" title="Jan Adam Kruseman, 1833" />
            </div>
            <div>
                <img src="images/small/painting3.jpg" alt="Self-portrait" title="Vincent van Gogh, 1887" />
            </div>
            <div>
                <img src="images/small/painting4.jpg" alt="William II, Prince of Orange, and his Bride, Mary Stuart" title="Anthony van Dyck, 1641"
                />
            </div>
            <div>
                <img src="images/small/painting5.jpg" alt="Milkmaid" title="Johannes Vermeer, c. 1660" />
            </div>
        </div>
    </main>

    <script type='text/javascript'>

        var blur = $("#sliderBlur").attr("value");
        var blurOriginal = $("#sliderBlur").attr("value");

        var bright = $("#sliderBrightness").attr("value");
        var brightOriginal = $("#sliderBrightness").attr("value");

        var gray = $("#sliderGray").attr("value");
        var grayOriginal = $("#sliderGray").attr("value");

        var opac = $("#sliderOpacity").attr("value");
        var opacOriginal = $("#sliderOpacity").attr("value");

        var satu = $("#sliderSaturation").attr("value");
        var satuOriginal = $("#sliderSaturation").attr("value");

        var rot = $("#sliderHue").attr("value");
        var rotOriginal = $("#sliderHue").attr("value");

  


        $("#thumbBox").click(function (event) {
            //first, let's make sure we reset the css
            var refresh = $('#imgManipulated img');
            refresh.css('-webkit-filter', "");
            refresh.css('filter', "");
            // refresh slider:          

            sliderBlur.value = blurOriginal;
            sliderBrightness.value = brightOriginal;
            sliderGray.value = grayOriginal;
            sliderOpacity.value = opacOriginal;
            sliderSaturation.value = satuOriginal;
            sliderHue.value = rotOriginal;

            $("#numBlur").html(blurOriginal);
            $("#numBrightness").html(brightOriginal);
            $("#numGray").html(grayOriginal);
            $("#numOpacity").html(opacOriginal);
            $("#numSaturation").html(satuOriginal);
            $("#numHue").html(rotOriginal);     

            //now, let's change the picture
            var input = event.target;
            var source = $(input).attr("src")
            source = source.replace(/small/g, 'medium');
            var description = $(input).attr("alt")
            $("#imgManipulated img").attr("src", source);
            $("#imgManipulated figcaption").html(description);
        });

        $("#resetFilters").click(function () {
            var resetImage = $('#imgManipulated img');
            resetImage.css('-webkit-filter', "");
            resetImage.css('filter', "");

            sliderBlur.value = blurOriginal;
            sliderBrightness.value = brightOriginal;
            sliderGray.value = grayOriginal;
            sliderOpacity.value = opacOriginal;
            sliderSaturation.value = satuOriginal;
            sliderHue.value = rotOriginal;

            $("#"+"numBlur").html(blurOriginal);
            $("#"+"numBrightness").html(brightOriginal);
            $("#"+"numGray").html(grayOriginal);
            $("#"+"numOpacity").html(opacOriginal);
            $("#"+"numSaturation").html(satuOriginal);
            $("#"+"numHue").html(rotOriginal);
          
        });

        $(function () {
            $("input[type=range]").on('input', function (e) {
                clickedItem = $(e.target).attr("id");
                var val = document.getElementById(clickedItem).value;

                switch (clickedItem) {
                    case 'sliderBlur':
                        {
                            blur = val;
                            $("#" + "numBlur").html(val);
                            break;
                        }
                    case 'sliderBrightness':
                        {
                            bright = val;
                            $("#" + "numBrightness").html(val);
                            break;
                        }
                    case 'sliderGray':
                        {

                            gray = val;
                            $("#" + "numGray").html(val);
                            break;
                        }
                    case 'sliderOpacity':
                        {
                            opac = val;
                            $("#" + "numOpacity").html(val);
                            break;
                        }
                    case 'sliderSaturation':
                        {
                            satu = val;
                            $("#" + "numSaturation").html(val);
                            break;
                        }
                    case 'sliderHue':
                        {
                            rot = val;
                            $("#" + "numHue").html(val);
                            break;
                        }
                }


                var manipulateImage = $('#imgManipulated img');
                manipulateImage.css('-webkit-filter',
                    'blur(' + blur + 'px' + ') grayscale(' + gray + '%) opacity(' + opac + '%) saturate(' + satu + '%) hue-rotate(' + rot + 'deg) brightness(' + bright + '%');

                manipulateImage.css('filter',
                    'blur(' + blur + 'px' + ') grayscale(' + gray + '%) opacity(' + opac + '%) saturate(' + satu + '%) hue-rotate(' + rot + 'deg) brightness(' + bright + '%');


            });

        });



    </script>

</body>

</html>